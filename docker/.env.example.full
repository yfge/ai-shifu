# AI-Shifu Environment Configuration - COMPLETE SET
# This file contains all available environment variables with their defaults
# For a minimal setup, see .env.example.minimal


#============================================================
# Alibaba Cloud
#============================================================

# Alibaba Cloud OSS Access Key ID
# (Optional - default: , Secret value)
ALIBABA_CLOUD_OSS_ACCESS_KEY_ID=""

# Alibaba Cloud OSS Access Key Secret
# (Optional - default: , Secret value)
ALIBABA_CLOUD_OSS_ACCESS_KEY_SECRET=""

# Alibaba Cloud OSS base URL
# (Optional - default: )
ALIBABA_CLOUD_OSS_BASE_URL=""

# Alibaba Cloud OSS bucket name
# (Optional - default: )
ALIBABA_CLOUD_OSS_BUCKET=""

# Alibaba Cloud OSS Courses Access Key ID
# (Optional - default: , Secret value)
ALIBABA_CLOUD_OSS_COURSES_ACCESS_KEY_ID=""

# Alibaba Cloud OSS Courses Access Key Secret
# (Optional - default: , Secret value)
ALIBABA_CLOUD_OSS_COURSES_ACCESS_KEY_SECRET=""

# Alibaba Cloud OSS Courses bucket name
# (Optional - default: )
ALIBABA_CLOUD_OSS_COURSES_BUCKET=""

# Alibaba Cloud OSS Courses endpoint
# (Optional - default: oss-cn-beijing.aliyuncs.com)
ALIBABA_CLOUD_OSS_COURSES_ENDPOINT="oss-cn-beijing.aliyuncs.com"

# Alibaba Cloud OSS Courses URL
# (Optional - default: )
ALIBABA_CLOUD_OSS_COURSES_URL=""

# Alibaba Cloud OSS endpoint
# (Optional - default: oss-cn-beijing.aliyuncs.com)
ALIBABA_CLOUD_OSS_ENDPOINT="oss-cn-beijing.aliyuncs.com"

# Alibaba Cloud settings for sending SMS and uploading files
# (Optional - default: , Secret value)
ALIBABA_CLOUD_SMS_ACCESS_KEY_ID=""

# Alibaba Cloud SMS Access Key Secret
# (Optional - default: , Secret value)
ALIBABA_CLOUD_SMS_ACCESS_KEY_SECRET=""

# Alibaba Cloud SMS sign name
# (Optional - default: )
ALIBABA_CLOUD_SMS_SIGN_NAME=""

# Alibaba Cloud SMS template code
# (Optional - default: )
ALIBABA_CLOUD_SMS_TEMPLATE_CODE=""


#============================================================
# App
#============================================================

# The count of history messages to append to LLM's context in ask
# (Optional - default: 10, Type: int)
ASK_MAX_HISTORY_LEN="10"

# Path of log file
# (Optional - default: logs/ai-shifu.log)
LOGGING_PATH="logs/ai-shifu.log"

# Default login method tab. Values: "phone" | "email"
# (Optional - default: phone)
NEXT_PUBLIC_DEFAULT_LOGIN_METHOD="phone"

# Login method configuration (phone, email, or both)
# Values: "phone" | "email" | "phone,email"
# Default: "phone" (phone-only login if not configured)
# (Optional - default: phone)
NEXT_PUBLIC_LOGIN_METHODS_ENABLED="phone"

# Always show lesson tree
# (Optional - default: true)
REACT_APP_ALWAYS_SHOW_LESSON_TREE="true"

# Shifu permission cache expiration time in seconds
# (Optional - default: 1)
SHIFU_PERMISSION_CACHE_EXPIRE="1"

# Timezone setting for the application
# (Optional - default: UTC)
TZ="UTC"

# Website access domain name
# (Optional - default: UNCONFIGURED)
WEB_URL="UNCONFIGURED"


#============================================================
# Auth
#============================================================

# Expire time for captcha in seconds
# (Optional - default: 300, Type: int)
CAPTCHA_CODE_EXPIRE_TIME="300"

# OAuth client ID issued by Google
# (Optional - default: )
GOOGLE_OAUTH_CLIENT_ID=""

# OAuth client secret issued by Google
# (Optional - default: , Secret value)
GOOGLE_OAUTH_CLIENT_SECRET=""

# IP ban time (seconds)
# (Optional - default: 86400, Type: int)
IP_BAN_TIME="86400"

# The maximum number of allowed sends
# (Optional - default: 10, Type: int)
IP_MAIL_LIMIT_COUNT="10"

# The time window for statistics of the number of sends by IP (seconds)
# (Optional - default: 3600, Type: int)
IP_MAIL_LIMIT_TIME="3600"

# The maximum number of times IP can send text messages
# (Optional - default: 10, Type: int)
IP_SMS_LIMIT_COUNT="10"

# The time window for statistics of the number of text messages sent by IP (seconds)
# (Optional - default: 3600, Type: int)
IP_SMS_LIMIT_TIME="3600"

# The expiration time of the email verification code (seconds)
# (Optional - default: 300, Type: int)
MAIL_CODE_EXPIRE_TIME="300"

# The interval time for sending emails
# (Optional - default: 60, Type: int)
MAIL_CODE_INTERVAL="60"

# Expire time for phone verification code in seconds
# (Optional - default: 300, Type: int)
PHONE_CODE_EXPIRE_TIME="300"

# Expire time for password reset code in seconds
# (Optional - default: 300, Type: int)
RESET_PWD_CODE_EXPIRE_TIME="300"

# Secret key for JWT token signing and verification
# CRITICAL: Used to encrypt/decrypt user authentication tokens
# - Must be a strong random string (at least 32 characters recommended)
# - DO NOT change in production (will invalidate all user sessions)
# - Keep different values for dev/test/prod environments
# - Never commit to version control
# Generate secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# (REQUIRED - must be set, Has validation, Secret value)
SECRET_KEY=""

# The minimum interval time for sending text messages to the same mobile phone number
# (Optional - default: 60, Type: int)
SMS_CODE_INTERVAL="60"

# Token expiration time in seconds
# (Optional - default: 604800, Type: int)
TOKEN_EXPIRE_TIME="604800"

# Universal verification code for testing.
# **SECURITY WARNING:** Do NOT set this in production environments.
# If set, it will allow anyone to bypass verification.
# Only use for local development or testing.
# (Optional - handled by libraries)
UNIVERSAL_VERIFICATION_CODE=""


#============================================================
# Content Detection
#============================================================

# Content detection provider
# (Optional - default: ilivedata)
CHECK_PROVIDER="ilivedata"

# ILIVEDATA project ID
# (Optional - default: )
ILIVEDATA_PID=""

# ILIVEDATA secret key
# (Optional - default: , Secret value)
ILIVEDATA_SECRET_KEY=""

# Netease Yidun business ID
# (Optional - default: )
NETEASE_YIDUN_BUSINESS_ID=""

# Netease Yidun secret ID
# (Optional - default: , Secret value)
NETEASE_YIDUN_SECRET_ID=""

# Netease Yidun secret key
# (Optional - default: , Secret value)
NETEASE_YIDUN_SECRET_KEY=""


#============================================================
# Database
#============================================================

# MySQL database connection URI
# Example: mysql://username:password@hostname:3306/database_name?charset=utf8mb4
# (REQUIRED - must be set, Secret value)
SQLALCHEMY_DATABASE_URI=""

# SQLAlchemy max overflow connections
# (Optional - default: 20, Type: int)
SQLALCHEMY_MAX_OVERFLOW="20"

# SQLAlchemy pool recycle time in seconds
# (Optional - default: 3600, Type: int)
SQLALCHEMY_POOL_RECYCLE="3600"

# SQLAlchemy connection pool size
# (Optional - default: 20, Type: int)
SQLALCHEMY_POOL_SIZE="20"

# SQLAlchemy pool timeout in seconds
# (Optional - default: 30, Type: int)
SQLALCHEMY_POOL_TIMEOUT="30"


#============================================================
# Email
#============================================================

# SMTP password
# (Optional - default: , Secret value)
SMTP_PASSWORD=""

# SMTP server port
# (Optional - default: 25, Type: int, Has validation)
SMTP_PORT="25"

# SMTP sender email address
# (Optional - default: )
SMTP_SENDER=""

# SMTP server address
# (Optional - default: )
SMTP_SERVER=""

# SMTP username
# (Optional - default: )
SMTP_USERNAME=""


#============================================================
# Flask
#============================================================

# Environment (development/production)
# (Optional - default: production)
ENV="production"

# Flask application entry point
# (Optional - default: app.py)
FLASK_APP="app.py"

# Application mode
# (Optional - default: api)
MODE="api"

# API path prefix
# (Optional - default: /api)
PATH_PREFIX="/api"

# Server software identification (e.g., gunicorn)
# (Optional - default: )
SERVER_SOFTWARE=""

# Enable Swagger API documentation
# (Optional - default: False, Type: bool)
SWAGGER_ENABLED="False"


#============================================================
# Frontend
#============================================================

# Frontend server port
# (Optional - default: 5000, Type: int, Has validation)
PORT="5000"

# React app base URL
# (Optional - default: )
REACT_APP_BASEURL=""

# Enable Eruda console for debugging
# (Optional - default: )
REACT_APP_ENABLE_ERUDA=""

# Site host URL
# (Optional - default: http://localhost:8081/)
SITE_HOST="http://localhost:8081/"


#============================================================
# Integrations
#============================================================

# Lark (Feishu) app ID
# (Optional - default: )
LARK_APP_ID=""

# Lark (Feishu) app secret
# (Optional - default: , Secret value)
LARK_APP_SECRET=""


#============================================================
# Llm
#============================================================

# ByteDance Volcengine Ark Access Key ID
# (Optional - default: , Secret value)
ARK_ACCESS_KEY_ID=""

# ByteDance Volcengine Ark API Key
# (Optional - default: , Secret value)
ARK_API_KEY=""

# ByteDance Volcengine Ark Secret Access Key
# (Optional - default: , Secret value)
ARK_SECRET_ACCESS_KEY=""

# Zhipu BigModel API Key (alternative format)
# (Optional - default: , Secret value)
BIGMODEL_API_KEY=""

# DeepSeek API Key
# (Optional - default: , Secret value)
DEEPSEEK_API_KEY=""

# DeepSeek API URL
# (Optional - default: https://api.deepseek.com)
DEEPSEEK_API_URL="https://api.deepseek.com"

# Default LLM model. Supported models:
# OpenAI: gpt-4o-latest, gpt-4o-mini, gpt-4, gpt-3.5-turbo, chatgpt-4o-latest
# ERNIE: ERNIE-4.0-8K, ERNIE-3.5-8K, ERNIE-3.5-128K, ERNIE-Speed-8K, ERNIE-Speed-128K
# GLM: glm-4, glm-4-air, glm-4-airx, glm-4-flash, glm-4v, glm-3-turbo
# Qwen: qwen-long, qwen-max, qwen-max-longcontext, qwen-plus, qwen-turbo, qwen2-*
# DeepSeek: deepseek-chat
# (Optional - default: )
DEFAULT_LLM_MODEL=""

# Default temperature for LLM generation
# (Optional - default: 0.3, Type: float, Has validation)
DEFAULT_LLM_TEMPERATURE="0.3"

# Baidu ERNIE API ID
# (Optional - default: , Secret value)
ERNIE_API_ID=""

# Baidu ERNIE API Key
# (Optional - default: , Secret value)
ERNIE_API_KEY=""

# Baidu ERNIE API Secret
# (Optional - default: , Secret value)
ERNIE_API_SECRET=""

# Zhipu BigModel GLM API Key
# (Optional - default: , Secret value)
GLM_API_KEY=""

# OpenAI API key for GPT models
# (Optional - default: , Secret value)
OPENAI_API_KEY=""

# OpenAI API base URL
# (Optional - handled by libraries)
OPENAI_BASE_URL=""

# Alibaba Cloud Qwen API Key
# (Optional - default: , Secret value)
QWEN_API_KEY=""

# Alibaba Cloud Qwen API URL
# (Optional - default: )
QWEN_API_URL=""

# SiliconFlow API Key
# (Optional - default: , Secret value)
SILICON_API_KEY=""


#============================================================
# Monitoring
#============================================================

# Langfuse host URL
# (Optional - default: )
LANGFUSE_HOST=""

# Langfuse settings for tracking LLM
# (Optional - default: , Secret value)
LANGFUSE_PUBLIC_KEY=""

# Langfuse secret key for LLM tracking
# (Optional - default: , Secret value)
LANGFUSE_SECRET_KEY=""


#============================================================
# Redis
#============================================================

# Redis database number
# (Optional - default: 0, Type: int)
REDIS_DB="0"

# Redis server host
# (Optional - default: localhost)
REDIS_HOST="localhost"

# Redis key prefix
# (Optional - default: ai-shifu:)
REDIS_KEY_PREFIX="ai-shifu:"

# Redis key prefix for captcha
# (Optional - default: ai-shifu:captcha:)
REDIS_KEY_PREFIX_CAPTCHA="ai-shifu:captcha:"

# The prefix of Redis key in the IP banned state
# (Optional - default: ai-shifu:ip_ban:)
REDIS_KEY_PREFIX_IP_BAN="ai-shifu:ip_ban:"

# The Redis key prefix with a limit on the number of IP transmissions
# (Optional - default: ai-shifu:ip_limit:)
REDIS_KEY_PREFIX_IP_LIMIT="ai-shifu:ip_limit:"

# Prefix of email verification code
# (Optional - default: ai-shifu:mail_code:)
REDIS_KEY_PREFIX_MAIL_CODE="ai-shifu:mail_code:"

# The Redis key prefix for email sending restrictions
# (Optional - default: ai-shifu:mail_limit:)
REDIS_KEY_PREFIX_MAIL_LIMIT="ai-shifu:mail_limit:"

# Redis key prefix for phone
# (Optional - default: ai-shifu:phone:)
REDIS_KEY_PREFIX_PHONE="ai-shifu:phone:"

# Redis key prefix for phone verification code
# (Optional - default: ai-shifu:phone_code:)
REDIS_KEY_PREFIX_PHONE_CODE="ai-shifu:phone_code:"

# The prefix of Redis key for mobile phone number sending restrictions
# (Optional - default: ai-shifu:phone_limit:)
REDIS_KEY_PREFIX_PHONE_LIMIT="ai-shifu:phone_limit:"

# Redis key prefix for password reset
# (Optional - default: ai-shifu:reset_pwd:)
REDIS_KEY_PREFIX_RESET_PWD="ai-shifu:reset_pwd:"

# Redis key prefix for user data
# (Optional - default: ai-shifu:user:)
REDIS_KEY_PREFIX_USER="ai-shifu:user:"

# Redis password
# (Optional - default: , Secret value)
REDIS_PASSWORD=""

# Redis server port
# (Optional - default: 6379, Type: int, Has validation)
REDIS_PORT="6379"

# Redis username
# (Optional - default: )
REDIS_USER=""


#============================================================
# Testing
#============================================================

# Django settings module for testing
# (Optional - default: api.settings)
DJANGO_SETTINGS_MODULE="api.settings"


# ========== END OF CONFIGURATION ==========
# Remember to keep your .env file secure and never commit it to version control
